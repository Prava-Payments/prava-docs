---
title: 'Update Intent'
description: 'Modify an existing purchase instruction'
icon: 'pen'
---

## Overview

The `updateIntent()` method modifies an existing intent's values. Requires passkey authentication. The mandate is updated with the card network directly.

<Warning>
Updating an intent invalidates any previously generated payment tokens. You must invoke the intent again after updating.
</Warning>

## Method Signature

```typescript
prava.updateIntent(params: UpdateIntentParams): Promise<UpdateIntentResult>
```

## Parameters

<ParamField path="params" type="UpdateIntentParams" required>
  <Expandable title="properties">
    <ParamField path="intentId" type="string" required>
      The intent to update
    </ParamField>

    <ParamField path="amount" type="number">
      New amount
    </ParamField>

    <ParamField path="itemCount" type="number">
      New item count
    </ParamField>

    <ParamField path="useLimit" type="number">
      New use limit
    </ParamField>

    <ParamField path="frequency" type="string">
      New frequency (`one-time` · `daily` · `weekly` · `monthly`)
    </ParamField>

    <ParamField path="expiresAt" type="string">
      New expiry (ISO 8601)
    </ParamField>
  </Expandable>
</ParamField>

## Return Value

<ResponseField name="result" type="UpdateIntentResult">
  <Expandable title="properties">
    <ResponseField name="intentId" type="string">
      The updated intent ID
    </ResponseField>

    <ResponseField name="status" type="string">
      Always `'updated'`
    </ResponseField>

    <ResponseField name="updatedFields" type="string[]">
      List of fields that were changed (e.g., `["amount", "useLimit"]`)
    </ResponseField>
  </Expandable>
</ResponseField>

## Example

<CodeGroup>
```typescript Update Amount
import { PravaSDK } from '@prava-sdk/core';

const prava = new PravaSDK({ publishableKey: 'pk_live_xxx' });

const updated = await prava.updateIntent({
  intentId: 'int_m7kx9...',
  amount: 35.00,            // was 25.00
  useLimit: 10,             // was 5
});
// Passkey prompt fires → mandate updated with card network
console.log(updated.status);         // "updated"
console.log(updated.updatedFields);  // ["amount", "useLimit"]
```

```typescript Extend Expiry
const updated = await prava.updateIntent({
  intentId: 'int_m7kx9...',
  expiresAt: '2027-01-01T00:00:00Z',
});
// Passkey prompt → card network mandate updated
```
</CodeGroup>

## What Can Be Updated?

| Field | Updatable? |
|-------|-----------|
| `amount` | ✅ Yes |
| `itemCount` | ✅ Yes |
| `useLimit` | ✅ Yes |
| `frequency` | ✅ Yes |
| `expiresAt` | ✅ Yes |
| `cardId` | ❌ No — delete and create new |
| `merchant` | ❌ No — security restriction |

<Note>
Partial updates are supported — only provide the fields you want to change.
</Note>

## Error Handling

| Code | Cause | Resolution |
|------|-------|------------|
| `PASSKEY_REJECTED` | User declined the passkey prompt | Allow retry |
| `PASSKEY_UNAVAILABLE` | Device doesn't support WebAuthn | Inform user |
| `INTENT_EXPIRED` | Intent already expired | Register a new intent |
| `MANDATE_VIOLATION` | Invalid update (e.g., past expiry) | Check params |

## Next Steps

<CardGroup cols={2}>
<Card title="Delete Intent" icon="trash" href="/sdk/intents/delete">
  Cancel an intent
</Card>

<Card title="Invoke Intent" icon="play" href="/sdk/intents/invoke">
  Generate tokens from updated intent
</Card>
</CardGroup>
